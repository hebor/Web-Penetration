# 自动化工具

本小节全文描述自动化工具的部署和使用，用于提升渗透测试的效率，自动化工具很多，笔录中不会全部记录，其他各类红蓝队优秀工具集合：

https://github.com/guchangan1/All-Defense-Tool

此项目集成了网络上很多优秀的开源攻防武器项目，包含信息收集工具（自动化利用工具、资产发现工具、目录扫描工具、子域名收集工具、指纹识别工具、端口扫描工具、各种插件....etc...），漏洞利用工具（各大CMS、OA利用工具、中间件利用工具、反序列化利用工具、数据库利用工具等项目........），内网渗透工具（隧道代理、密码提取、木马免杀、域渗透.....）、应急响应工具、甲方运维工具、等其他安全攻防资料整理，供攻防双方使用

## 一、武器库部署F8x

[F8x](https://github.com/ffffffff0x/f8x)项目用于解决解决系统环境、安全工具的安装问题，在拿到一个干净的系统后（比如，物理机重装系统、云主机VPS等），首先需要解决的就是安全工具的安装，而安全工具又依赖各种开发环境，这些都是需要用户手动解决的问题。F8x通过其命令参数能够实现快速部署各种开发环境、安全工具，f8x基本上不需要任何依赖，或者说它就是为了帮助用户安装各种依赖而生的

大多数场景下，在不同的云购买一些 vps 服务器用于部署红 / 蓝队设施，不能做到开箱即用，使用 f8x 可以快速部署所需要的各类服务。同时兼顾到本地 VM 虚拟机的需求，可以选择走 socket 代理进行安装部署，Proxychains-ng 也会自动安装，只需做好 Proxychains-ng 配置即可

笔录中不会用f8x命令的所有选项参数，f8x支持的所有选项参数请查看其[说明文档](https://github.com/ffffffff0x/f8x/blob/main/README.zh-cn.md)



## 二、网络空间AsamF

[AsamF](https://github.com/Kento-Sec/AsamF)是一款集成多个网络资产测绘平台的一站式企业信息资产收集工具，集成了Fofa、Quake、Hunter、Shodan、Zoomeye、Chinaz、0.zone及爱企查等网络资产测绘平台。AsamF在使用之前，至少需要在AsamF集成的网络资产测绘平台上有注册过帐号，AsamF需要通过各个平台的Key来实现查询

AsamF工具除了可以用于一站式查询，还支持搜索结果导出。大多数网络资产测绘平台的数据导出都是收费功能，通过AsamF工具可以避免费用问题，但AsamF工具只能解决搜索结果导出的问题，如果用户本身连搜索权限都有限，AsamF工具也无法解决

现在AsamF工具似乎也无法避免费用问题了，使用各平台的API Key进行查询时，需要使用积分或购买查询点数

### 2.1 配置与使用

1. 安装

   ```bash
   wget https://github.com/Kento-Sec/AsamF/releases/download/v0.2.5/AsamF_linux_amd64
   chmod +x AsamF_linux_amd64
   ./AsamF_linux_amd64 info    # 使AsamF自动生成配置文件
   ```

2. 获取用户key（以quake为例）

   AsamF项目的介绍中虽然还保留有爱企查的使用方式介绍，但0.2.5版本的帮助手册上已经没有爱企查的使用参数了，再使用工具时建议安装工具后查看实际版本对应的测绘平台，再收集测绘平台的用户key

   ![AsamF工具-1](../image/Part_2/AsamF工具-1.png)

3. 修改AsamF的配置文件

   每个测绘平台的用户Key要求可能不一样，各个平台的用户Key要求按照配置文件内的要求写入即可，不同平台对于用户Key的写入语法可能也要求不同，建议自行探索后编写

   ```bash
   vim ~/.config/asamf/config.json
   {
           "fofaemail": {
                   "1":"xxxx@xxx.com"
           },
           "fofakey": {
                   "1":"xxxx"
           },
           "quakekey": [
                   "xxxx-xxxx-xxxx-xxxx-xxxx",
                   ""
           ],
           "hunterkey": [
                   "xxxx",
                   ""
           ],
           "zoomeyekey": [
                   "xxxx",
                   ""
           ],
           "shodankey": {
                   "1":"xxxx"
           },
           "chinaz": {
                   "1":"xxxx"
           }
   }
   ```

4. 使用AsamF

   ```bash
   ./AsamF_linux_amd64 -h    # 查看AsamF支持的测绘平台
   ./AsamF_linux_amd64 q -h    # 查看特定测绘平台支持的参数
   ./AsamF_linux_amd64 q -q "weblogic"    # 使用测绘平台查询时仍需遵循对应的查询语法
   ```

   部分测绘平台需要充值才具备查询权限，查询结束后AsamF会将查询结果保存在本地文件中，kali linux默认的保存路径是`/home/hebor/asamf/quake_weblogic_result_20250922105350.csv`，这个表格中记录的中文字符可能存在乱码问题，将编码格式修改为UTF-8或GBK即可

## 三、企查信息ENScan

[ENScan_Go](https://github.com/wgpsec/ENScan_GO)是一款基于各大企业信息API的工具，用于解决在HW/SRC场景下遇到的各种针对国内企业的信息收集难题，一键收集控股公司ICP备案、APP、小程序、微信公众号等信息聚合导出。ENScan_Go在首次使用时需要使用-v参数生成配置文件信息后进行配置

使用程序可能导致⌈账号异常⌋，登录后谨慎使用工具进行搜索

### 3.1 配置与使用

1. 安装

   ```bash
   wget https://github.com/wgpsec/ENScan_GO/releases/download/v1.3.1/enscan-v1.3.1-linux-amd64.tar.gz
   tar -xzf enscan-v1.3.1-linux-amd64.tar.gz
   ./enscan-v1.3.1-linux-amd64 -v    # 首次使用生成配置文件
   ```

2. 获取用户key（以爱企查为例）

   爱企查禁止用户浏览器使用开发者工具，因此需要通过脚本文件或浏览器插件的方式获取Cookie，此处使用Firefox浏览器的Cookie Editor插件，实现导入导出Cookie信息

   ![ENScan工具-1](../image/Part_2/ENScan工具-1.png)

   使用Cookie Editor插件获取的Cookie信息是一个json文件，ENScan工具的配置文件要求使用键值对的方式写入，因此Cookie Editor获取的Cookie信息还需要进一步处理

3. 修改ENScanp配置文件

   ```bash
   ```

   

四、
